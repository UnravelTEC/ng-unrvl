<h2>SCD30</h2>

service status frc - button cal_ppm - number altitude - number asc - checkbox
interval - number

<fieldset [disabled]="interval === undefined">
  <h3>Measurement interval</h3>

  <p>Current interval: {{ interval }}s</p>

  <p>
    Set new interval:
    <input
      type="number"
      id="interval"
      name="interval"
      [(ngModel)]="userInterval"
      style="width: 4em"
    />(min 1, max 1800)
    <button (click)="setInterval()" type="button">Set</button>
  </p>
</fieldset>

<section>
  <h2>Calibration</h2>

  <fieldset [disabled]="asc === undefined">
    <h3>Automatic Self-Calibration (ASC)</h3>

    <p>Current Status: {{ asc ? 'Enabled' : 'Disabled' }}</p>

    <mat-checkbox
      [(ngModel)]="asc"
      id="asc"
      name="asc"
      labelPosition="after"
      (ngModelChange)="toggleASC($event)"

    >
      ASC
    </mat-checkbox>
  </fieldset>
  <fieldset [disabled]="calibration_ppm === undefined">
    <h3>Forced Recalibration (FRC)</h3>
    <p>
      Before triggering FRC, the sensor has to be in stable conditions for at
      least 2 minutes!
    </p>
    <p>Target Value: <input
      type="number"
      id="calibration_ppm"
      name="calibration_ppm"
      [(ngModel)]="calibration_ppm"
      style="width: 4em"
    /> ppm</p>
    <button (click)="FRC()" type="button">Calibrate!</button>

  </fieldset>
</section>

<fieldset [disabled]="altitude === undefined">
  <h3>Operating Altitude</h3>

  <p>Configured altitude: {{ altitude }}m</p>

  <p>
    Set new altitude:
    <input
      type="number"
      id="altitude"
      name="altitude"
      [(ngModel)]="userAltitude"
      style="width: 4em"
    />(m)
    <button (click)="setAltitude()" type="button">Set</button>
  </p>
</fieldset>

<button (click)="reload()" type="button">Reload Settings from Device</button>